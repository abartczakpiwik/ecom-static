<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>🛍️🛍️🛍️ Demo ecommerce</title>
    <style>
        body {
            font-family: sans-serif;
            margin-right: 500px;
        }
        button {
            text-transform: uppercase;
        }
    </style>
</head>
<body>
<script type="text/javascript">
  (function(window, document, dataLayerName, id) {
    window[dataLayerName]=window[dataLayerName]||[],window[dataLayerName].push({start:(new Date).getTime(),event:"stg.start"});var scripts=document.getElementsByTagName('script')[0],tags=document.createElement('script');
    function stgCreateCookie(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toUTCString();f="; SameSite=Strict"}document.cookie=a+"="+b+d+f+"; path=/"}
    var isStgDebug=(window.location.href.match("stg_debug")||document.cookie.match("stg_debug"))&&!window.location.href.match("stg_disable_debug");stgCreateCookie("stg_debug",isStgDebug?1:"",isStgDebug?14:-1);
    var qP=[];dataLayerName!=="dataLayer"&&qP.push("data_layer_name="+dataLayerName),isStgDebug&&qP.push("stg_debug");var qPString=qP.length>0?("?"+qP.join("&")):"";
    tags.async=!0,tags.src="https://"+localStorage.getItem('instance')+"/containers/"+id+".js"+qPString,scripts.parentNode.insertBefore(tags,scripts);
    !function(a,n,i){a[n]=a[n]||{};for(var c=0;c<i.length;c++)!function(i){a[n][i]=a[n][i]||{},a[n][i].api=a[n][i].api||function(){var a=[].slice.call(arguments,0);"string"==typeof a[0]&&window[dataLayerName].push({event:n+"."+i+":"+a[0],parameters:[].slice.call(arguments,1)})}}(i[c])}(window,"ppms",["tm","cm"]);
  })(window, document, 'dataLayer', localStorage.getItem('app-id'));
</script>
<h1>🛍️🛍️🛍️ Ecommerce 🛒🛒🛒</h1>
<div>
    Universal Analytics (gtag)<br>
    <button id="addToCart-ua-gtag">➕ add to cart</button>
    <button id="removeFromCart-ua-gtag">➖ remove from cart</button>
    <button id="view-ua-gtag">👀 view</button>
    <button id="order-ua-gtag">💵 order</button>
    <button id="cartUpdate-ua-gtag">📜 cart update</button>
    <hr>
</div>
<div>
  Universal Analytics (gtag) - multiple categories<br>
  <button id="addToCart-ua-gtag-multipleCategories">➕ add to cart</button>
  <button id="removeFromCart-ua-gtag-multipleCategories">➖ remove from cart</button>
  <button id="view-ua-gtag-multipleCategories">👀 view</button>
  <button id="order-ua-gtag-multipleCategories">💵 order</button>
  <button id="cartUpdate-ua-gtag-multipleCategories">📜 cart update</button>
  <hr>
</div>
<div>
    Google Analytics 4 (gtag)<br>
    <button id="addToCart-ga4-gtag">➕ add to cart</button>
    <button id="removeFromCart-ga4-gtag">➖ remove from cart</button>
    <button id="view-ga4-gtag">👀 view</button>
    <button id="order-ga4-gtag">💵 order</button>
    <button id="cartUpdate-ga4-gtag">📜 cart update</button>
    <hr>
</div>
<div>
    Universal Analytics<br>
    <button id="addToCart-ua-push">➕ add to cart</button>
    <button id="removeFromCart-ua-push">➖ remove from cart</button>
    <button id="view-ua-push">👀 view</button>
    <button id="order-ua-push">💵 order</button>
    <button id="cartUpdate-ua-push">📜 cart update</button>
    <hr>
</div>
<div>
  Universal Analytics - multiple categories<br>
  <button id="addToCart-ua-push-multipleCategories">➕ add to cart</button>
  <button id="removeFromCart-ua-push-multipleCategories">➖ remove from cart</button>
  <button id="view-ua-push-multipleCategories">👀 view</button>
  <button id="order-ua-push-multipleCategories">💵 order</button>
  <button id="cartUpdate-ua-push-multipleCategories">📜 cart update</button>
  <hr>
</div>
<div>
    Google Analytics 4<br>
    <button id="addToCart-ga4-push">➕ add to cart</button>
    <button id="removeFromCart-ga4-push">➖ remove from cart</button>
    <button id="view-ga4-push">👀 view</button>
    <button id="order-ga4-push">💵 order</button>
    <button id="cartUpdate-ga4-push">📜 cart update</button>
    <hr>
</div>
<div>
  Categories: single field - categories divided by / [addToCart - UniversalAnalytics - dataLayer]<br>
  <button id="twoCategoriesSlash">2 categories</button>
  <button id="threeCategoriesSlash">3 categories</button>
  <button id="fourCategoriesSlash">4 categories</button>
  <button id="fiveCategoriesSlash">5 categories</button>
  <hr>
</div>
<div>
  Categories: multiple fields - [add_to_cart - Google Analytics 4 - dataLayer]<br>
  <button id="twoCategoriesNoGaps">2 categories</button>
  <button id="threeCategoriesNoGaps">3 categories</button>
  <button id="fourCategoriesNoGaps">4 categories</button>
  <button id="fiveCategoriesNoGaps">5 categories</button>
  <button id="categoryGapsOnlyOneFour">gaps - only 1, 4</button>
  <button id="categoryGapsOnlyTwoThree">gaps - only 2, 3</button>
  <button id="categoryGapsFourFiveEmptyString">gaps - empty strings 4, 5</button>
</div>
<div>
    Snippet<br>
    <input type="text" placeholder="Instance domain" id="instance" />
    <input type="text" placeholder="App id" id="app-id" />
    <button onclick="document.cookie='stg_debug=1';window.location.reload()">refresh</button>
    <hr>
</div>
<div>
    <label for="last-event">Last event:</label><br>
    <textarea style="width: 100%; height: 500px;" id="last-event"></textarea>
    <hr>
</div>
<script>
  (() => {
    const events = {
      'addToCart-ua-gtag': ['event', 'add_to_cart', {
        'currency': 'USD',
        'value': 55,
        'items': [{
          'id': '035f0',
          'name': 'Futuris T-Shirt',
          'price': '55.00',
          'quantity': 1,
          'brand': 'Futuris',
          'category': 'T-Shirts',
          'variant': 'red',
          'list_position': 0
        }]
      }],
      'addToCart-ua-gtag-multipleCategories': ['event', 'add_to_cart', {
        'currency': 'USD',
        'value': 55,
        'items': [{
          'id': '035f0',
          'name': 'Futuris T-Shirt',
          'price': '55.00',
          'quantity': 1,
          'brand': 'Futuris',
          'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
          'variant': 'red',
          'list_position': 0
        }]
      }],
      'addToCart-ga4-gtag': ['event', 'add_to_cart', {
        'currency': 'USD',
        'value': 55,
        'items': [{
          'item_id': '035f0',
          'item_name': 'Futuris T-Shirt',
          'price': '55.00',
          'quantity': 1,
          'item_brand': 'Futuris',
          'item_category': 'Apparel',
          'item_category2': 'Adult',
          'item_category3': 'Shirts',
          'item_category4': 'Crew',
          'item_category5': 'Short sleeve',
          'item_variant': 'red',
          'index': 0,
          'size': 'M'
        }]
      }],
      'addToCart-ua-push': {
        'event': 'addToCart',
        'ecommerce': {
          'currencyCode': 'USD',
          'add': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'T-Shirts',
              'variant': 'red',
              'dimension1': 'M',
              'position': 0,
              'quantity': 1
            }]
          }
        }
      },
      'addToCart-ua-push-multipleCategories': {
        'event': 'addToCart',
        'ecommerce': {
          'currencyCode': 'USD',
          'add': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
              'variant': 'red',
              'dimension1': 'M',
              'position': 0,
              'quantity': 1
            }]
          }
        }
      },
      'addToCart-ga4-push': {
        'event': 'add_to_cart',
        'ecommerce': {
          'currency': 'USD',
          'value': 55,
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': 'Crew',
            'item_category5': 'Short sleeve',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          }]
        }
      },
      'removeFromCart-ua-gtag': ['event', 'remove_from_cart', {
        'currency': 'USD',
        'value': 55,
        'items': [{
          'id': '035f0',
          'name': 'Futuris T-Shirt',
          'price': '55.00',
          'quantity': 1,
          'brand': 'Futuris',
          'category': 'T-Shirts',
          'variant': 'red',
          'list_position': 0
        }]
      }],
      'removeFromCart-ua-gtag-multipleCategories': ['event', 'remove_from_cart', {
        'currency': 'USD',
        'value': 55,
        'items': [{
          'id': '035f0',
          'name': 'Futuris T-Shirt',
          'price': '55.00',
          'quantity': 1,
          'brand': 'Futuris',
          'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
          'variant': 'red',
          'list_position': 0
        }]
      }],
      'removeFromCart-ga4-gtag': ['event', 'remove_from_cart', {
        'currency': 'USD',
        'value': 55,
        'items': [{
          'item_id': '035f0',
          'item_name': 'Futuris T-Shirt',
          'price': '55.00',
          'quantity': 1,
          'item_brand': 'Futuris',
          'item_category': 'Apparel',
          'item_category2': 'Adult',
          'item_category3': 'Shirts',
          'item_category4': 'Crew',
          'item_category5': 'Short sleeve',
          'item_variant': 'red',
          'index': 0,
          'size': 'M'
        }]
      }],
      'removeFromCart-ua-push': {
        'event': 'removeFromCart',
        'ecommerce': {
          'currencyCode': 'USD',
          'remove': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'T-Shirts',
              'variant': 'red',
              'dimension1': 'M',
              'position': 0,
              'quantity': 1
            }]
          }
        }
      },
      'removeFromCart-ua-push-multipleCategories': {
        'event': 'removeFromCart',
        'ecommerce': {
          'currencyCode': 'USD',
          'remove': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
              'variant': 'red',
              'dimension1': 'M',
              'position': 0,
              'quantity': 1
            }]
          }
        }
      },
      'removeFromCart-ga4-push': {
        'event': 'remove_from_cart',
        'ecommerce': {
          'currency': 'USD',
          'value': 55,
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': 'Crew',
            'item_category5': 'Short sleeve',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          }]
        }
      },
      'view-ua-gtag': ['event', 'view_item', {
        'items': [{
          'id': '035f0',
          'name': 'Futuris T-Shirt',
          'price': '55.00',
          'brand': 'Futuris',
          'category': 'T-Shirts',
          'variant': 'purple',
          'quantity': 1
        }]
      }],
      'view-ua-gtag-multipleCategories': ['event', 'view_item', {
        'items': [{
          'id': '035f0',
          'name': 'Futuris T-Shirt',
          'price': '55.00',
          'brand': 'Futuris',
          'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
          'variant': 'purple',
          'quantity': 1
        }]
      }],
      'view-ga4-gtag': ['event', 'view_item', {
        'items': [{
          'item_id': '035f0',
          'item_name': 'Futuris T-Shirt',
          'price': '55.00',
          'item_brand': 'Futuris',
          'item_category': 'Apparel',
          'item_category2': 'Adult',
          'item_category3': 'Shirts',
          'item_category4': 'Crew',
          'item_category5': 'Short sleeve',
          'item_variant': 'purple',
          'quantity': 1
        }],
        'currency': 'USD'
      }],
      'view-ua-push': {
        'ecommerce': {
          'detail': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'T-Shirts',
              'variant': 'purple',
              'quantity': 1
            }]
          },
        }
      },
      'view-ua-push-multipleCategories': {
        'ecommerce': {
          'detail': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
              'variant': 'purple',
              'quantity': 1
            }]
          },
        }
      },
      'view-ga4-push': {
        'event': 'view_item',
        'ecommerce': {
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': 'Crew',
            'item_category5': 'Short sleeve',
            'item_variant': 'purple',
            'quantity': 1
          }],
          'currency': 'USD'
        }
      },
      'order-ua-gtag': ['event', 'purchase', {
        'transaction_id': 'c144318b-4f57-4ba9-8f26-550c19ad3117',
        'currency': 'USD',
        'tax': 5,
        'shipping': 5,
        'value': 109,
        'items': [
          {
            'id': '9bdd2',
            'name': 'Compton T-Shirt',
            'price': '44.00',
            'quantity': 1,
            'brand': 'Compton',
            'category': 'T-Shirts',
            'variant': 'red',
            'list_position': 0
          },
          {
            'id': '035f0',
            'name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'brand': 'Futuris',
            'category': 'T-Shirts',
            'variant': 'red',
            'list_position': 1
          }
        ]
      }],
      'order-ua-gtag-multipleCategories': ['event', 'purchase', {
        'transaction_id': 'c144318b-4f57-4ba9-8f26-550c19ad3117',
        'currency': 'USD',
        'tax': 5,
        'shipping': 5,
        'value': 109,
        'items': [
          {
            'id': '9bdd2',
            'name': 'Compton T-Shirt',
            'price': '44.00',
            'quantity': 1,
            'brand': 'Compton',
            'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
            'variant': 'red',
            'list_position': 0
          },
          {
            'id': '035f0',
            'name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'brand': 'Futuris',
            'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
            'variant': 'red',
            'list_position': 1
          }
        ]
      }],
      'order-ga4-gtag': ['event', 'purchase', {
        'transaction_id': 'c144318b-4f57-4ba9-8f26-550c19ad3117',
        'currency': 'USD',
        'tax': 5,
        'shipping': 5,
        'value': 109,
        'items': [
          {
            'item_id': '9bdd2',
            'item_name': 'Compton T-Shirt',
            'price': '44.00',
            'quantity': 1,
            'item_brand': 'Compton',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': 'Crew',
            'item_category5': 'Short sleeve',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          },
          {
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': 'Crew',
            'item_category5': 'Short sleeve',
            'item_variant': 'red',
            'index': 1,
            'size': 'M'
          }
        ]
      }],
      'order-ua-push': {
        'event': 'transaction',
        'ecommerce': {
          'purchase': {
            'actionField': {
              'id': 'c144318b-4f57-4ba9-8f26-550c19ad3117',
              'affiliation': 'Online Store',
              'revenue': 109,
              'tax': 5,
              'shipping': 5
            },
            'products': [
              {
                'id': '9bdd2',
                'name': 'Compton T-Shirt',
                'price': '44.00',
                'brand': 'Compton',
                'category': 'T-Shirts',
                'variant': 'red',
                'dimension1': 'M',
                'position': 0,
                'quantity': 1
              },
              {
                'id': '035f0',
                'name': 'Futuris T-Shirt',
                'price': '55.00',
                'brand': 'Futuris',
                'category': 'T-Shirts',
                'variant': 'red',
                'dimension1': 'M',
                'position': 1,
                'quantity': 1
              }
            ]
          }
        }
      },
      'order-ua-push-multipleCategories': {
        'event': 'transaction',
        'ecommerce': {
          'purchase': {
            'actionField': {
              'id': 'c144318b-4f57-4ba9-8f26-550c19ad3117',
              'affiliation': 'Online Store',
              'revenue': 109,
              'tax': 5,
              'shipping': 5
            },
            'products': [
              {
                'id': '9bdd2',
                'name': 'Compton T-Shirt',
                'price': '44.00',
                'brand': 'Compton',
                'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
                'variant': 'red',
                'dimension1': 'M',
                'position': 0,
                'quantity': 1
              },
              {
                'id': '035f0',
                'name': 'Futuris T-Shirt',
                'price': '55.00',
                'brand': 'Futuris',
                'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
                'variant': 'red',
                'dimension1': 'M',
                'position': 1,
                'quantity': 1
              }
            ]
          }
        }
      },
      'order-ga4-push': {
        'event': 'purchase',
        'ecommerce': {
          'transaction_id': 'c144318b-4f57-4ba9-8f26-550c19ad3117',
          'currency': 'USD',
          'tax': 5,
          'shipping': 5,
          'value': 109,
          'items': [
            {
              'item_id': '9bdd2',
              'item_name': 'Compton T-Shirt',
              'price': '44.00',
              'quantity': 1,
              'item_brand': 'Compton',
              'item_category': 'Apparel',
              'item_category2': 'Adult',
              'item_category3': 'Shirts',
              'item_category4': 'Crew',
              'item_category5': 'Short sleeve',
              'item_variant': 'red',
              'index': 0,
              'size': 'M'
            },
            {
              'item_id': '035f0',
              'item_name': 'Futuris T-Shirt',
              'price': '55.00',
              'quantity': 1,
              'item_brand': 'Futuris',
              'item_category': 'Apparel',
              'item_category2': 'Adult',
              'item_category3': 'Shirts',
              'item_category4': 'Crew',
              'item_category5': 'Short sleeve',
              'item_variant': 'red',
              'index': 1,
              'size': 'M'
            }
          ]
        }
      },
      // Custom events - not defined in official documentation
      'cartUpdate-ua-gtag': ['event', 'cart_update', {
        'value': 109,
        'items': [
          {
            'id': '9bdd2',
            'name': 'Compton T-Shirt',
            'price': '44.00',
            'quantity': 1,
            'brand': 'Compton',
            'category': 'T-Shirts',
            'variant': 'red',
            'list_position': 0
          },
          {
            'id': '035f0',
            'name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'brand': 'Futuris',
            'category': 'T-Shirts',
            'variant': 'red',
            'list_position': 1
          }
        ]
      }],
      'cartUpdate-ua-gtag-multipleCategories': ['event', 'cart_update', {
        'value': 109,
        'items': [
          {
            'id': '9bdd2',
            'name': 'Compton T-Shirt',
            'price': '44.00',
            'quantity': 1,
            'brand': 'Compton',
            'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
            'variant': 'red',
            'list_position': 0
          },
          {
            'id': '035f0',
            'name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'brand': 'Futuris',
            'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
            'variant': 'red',
            'list_position': 1
          }
        ]
      }],
      'cartUpdate-ga4-gtag': ['event', 'cart_update', {
        'value': 109,
        'items': [
          {
            'item_id': '9bdd2',
            'item_name': 'Compton T-Shirt',
            'price': '44.00',
            'quantity': 1,
            'item_brand': 'Compton',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': 'Crew',
            'item_category5': 'Short sleeve',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          },
          {
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': 'Crew',
            'item_category5': 'Short sleeve',
            'item_variant': 'red',
            'index': 1,
            'size': 'M'
          }
        ]
      }],
      'cartUpdate-ua-push': {
        'event': 'cartUpdate',
        'ecommerce': {
          'update': {
            'actionField': {
              'revenue': 109,
            },
            'products': [
              {
                'id': '9bdd2',
                'name': 'Compton T-Shirt',
                'price': '44.00',
                'brand': 'Compton',
                'category': 'T-Shirts',
                'variant': 'red',
                'dimension1': 'M',
                'position': 0,
                'quantity': 1
              },
              {
                'id': '035f0',
                'name': 'Futuris T-Shirt',
                'price': '55.00',
                'brand': 'Futuris',
                'category': 'T-Shirts',
                'variant': 'red',
                'dimension1': 'M',
                'position': 1,
                'quantity': 1
              }
            ]
          }
        }
      },
      'cartUpdate-ua-push-multipleCategories': {
        'event': 'cartUpdate',
        'ecommerce': {
          'update': {
            'actionField': {
              'revenue': 109,
            },
            'products': [
              {
                'id': '9bdd2',
                'name': 'Compton T-Shirt',
                'price': '44.00',
                'brand': 'Compton',
                'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
                'variant': 'red',
                'dimension1': 'M',
                'position': 0,
                'quantity': 1
              },
              {
                'id': '035f0',
                'name': 'Futuris T-Shirt',
                'price': '55.00',
                'brand': 'Futuris',
                'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
                'variant': 'red',
                'dimension1': 'M',
                'position': 1,
                'quantity': 1
              }
            ]
          }
        }
      },
      'cartUpdate-ga4-push': {
        'event': 'cart_update',
        'ecommerce': {
          'value': 109,
          'items': [
            {
              'item_id': '9bdd2',
              'item_name': 'Compton T-Shirt',
              'price': '44.00',
              'quantity': 1,
              'item_brand': 'Compton',
              'item_category': 'Apparel',
              'item_category2': 'Adult',
              'item_category3': 'Shirts',
              'item_category4': 'Crew',
              'item_category5': 'Short sleeve',
              'item_variant': 'red',
              'index': 0,
              'size': 'M'
            },
            {
              'item_id': '035f0',
              'item_name': 'Futuris T-Shirt',
              'price': '55.00',
              'quantity': 1,
              'item_brand': 'Futuris',
              'item_category': 'Apparel',
              'item_category2': 'Adult',
              'item_category3': 'Shirts',
              'item_category4': 'Crew',
              'item_category5': 'Short sleeve',
              'item_variant': 'red',
              'index': 1,
              'size': 'M'
            }
          ]
        }
      },
      // Multiple categories testing
      // categories divided by slash
      'twoCategoriesSlash': {
        'event': 'addToCart',
        'ecommerce': {
          'currencyCode': 'USD',
          'add': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'Apparel/Adult',
              'variant': 'red',
              'dimension1': 'M',
              'position': 0,
              'quantity': 1
            }]
          }
        }
      },
      'threeCategoriesSlash': {
        'event': 'addToCart',
        'ecommerce': {
          'currencyCode': 'USD',
          'add': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'Apparel/Adult/Shirts',
              'variant': 'red',
              'dimension1': 'M',
              'position': 0,
              'quantity': 1
            }]
          }
        }
      },
      'fourCategoriesSlash': {
        'event': 'addToCart',
        'ecommerce': {
          'currencyCode': 'USD',
          'add': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'Apparel/Adult/Shirts/Crew',
              'variant': 'red',
              'dimension1': 'M',
              'position': 0,
              'quantity': 1
            }]
          }
        }
      },
      'fiveCategoriesSlash': {
        'event': 'addToCart',
        'ecommerce': {
          'currencyCode': 'USD',
          'add': {
            'products': [{
              'id': '035f0',
              'name': 'Futuris T-Shirt',
              'price': '55.00',
              'brand': 'Futuris',
              'category': 'Apparel/Adult/Shirts/Crew/Short sleeve',
              'variant': 'red',
              'dimension1': 'M',
              'position': 0,
              'quantity': 1
            }]
          }
        }
      },
      // multiple category fields
      'twoCategoriesNoGaps': {
        'event': 'add_to_cart',
        'ecommerce': {
          'currency': 'USD',
          'value': 55,
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          }]
        }
      },
      'threeCategoriesNoGaps': {
        'event': 'add_to_cart',
        'ecommerce': {
          'currency': 'USD',
          'value': 55,
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          }]
        }
      },
      'fourCategoriesNoGaps': {
        'event': 'add_to_cart',
        'ecommerce': {
          'currency': 'USD',
          'value': 55,
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': 'Crew',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          }]
        }
      },
      'fiveCategoriesNoGaps': {
        'event': 'add_to_cart',
        'ecommerce': {
          'currency': 'USD',
          'value': 55,
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': 'Crew',
            'item_category5': 'Short sleeve',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          }]
        }
      },
      'categoryGapsOnlyOneFour': {
        'event': 'add_to_cart',
        'ecommerce': {
          'currency': 'USD',
          'value': 55,
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category4': 'Crew',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          }]
        }
      },
      'categoryGapsOnlyTwoThree': {
        'event': 'add_to_cart',
        'ecommerce': {
          'currency': 'USD',
          'value': 55,
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          }]
        }
      },
      'categoryGapsFourFiveEmptyString': {
        'event': 'add_to_cart',
        'ecommerce': {
          'currency': 'USD',
          'value': 55,
          'items': [{
            'item_id': '035f0',
            'item_name': 'Futuris T-Shirt',
            'price': '55.00',
            'quantity': 1,
            'item_brand': 'Futuris',
            'item_category': 'Apparel',
            'item_category2': 'Adult',
            'item_category3': 'Shirts',
            'item_category4': '',
            'item_category5': '',
            'item_variant': 'red',
            'index': 0,
            'size': 'M'
          }]
        }
      },
    }

    function createArguments() {
      console.log(arguments)
      return arguments
    }

    document.addEventListener('click', (event) => {
      if (event.target.id === '' || !(event.target instanceof HTMLButtonElement)) {
        return
      }
      const dataLayerEvent = event.target.id.includes('gtag')
        ? createArguments(...events[event.target.id])
        : events[event.target.id];
      if (typeof dataLayerEvent !== 'undefined') {
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push(dataLayerEvent)
      }
      document.getElementById('last-event').innerHTML = JSON.stringify(dataLayerEvent, null, 2) || 'no event'
    })
    document.addEventListener('keyup', (event) => {
      localStorage.setItem(event.target.id, event.target.value)
    })

    document.getElementById('instance').value = localStorage.getItem('instance')
    document.getElementById('app-id').value = localStorage.getItem('app-id')
  })();
</script>
</body>
</html>
